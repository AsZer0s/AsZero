<!DOCTYPE html><html lang="zh"><head><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script><link href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="baidu-site-verification" content="codeva-hHAetH9ivO"><meta name="description" content="本篇参考 Arch Linux 官方安装指南 禁用 reflectorreflector 会为你选择速度合适的镜像源但其结果并不准确同时会清空配置文件中的内容对于新人来讲并不适用我们首先对其进行禁用 1systemctl stop reflector.service  再次确保是否为 UEFI 模式在一系列的信息刷屏后可以看到已经以 root 登陆安装系统了此时可以执行的命令 1ls &#x2F;sys&#x2F;f"><meta property="og:type" content="article"><meta property="og:title" content="ArchLinux基础安装"><meta property="og:url" content="https://zerospace.dev/posts/f0c3d80/"><meta property="og:site_name" content="AsZero"><meta property="og:description" content="本篇参考 Arch Linux 官方安装指南 禁用 reflectorreflector 会为你选择速度合适的镜像源但其结果并不准确同时会清空配置文件中的内容对于新人来讲并不适用我们首先对其进行禁用 1systemctl stop reflector.service  再次确保是否为 UEFI 模式在一系列的信息刷屏后可以看到已经以 root 登陆安装系统了此时可以执行的命令 1ls &#x2F;sys&#x2F;f"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-11-19T12:39:23.000Z"><meta property="article:modified_time" content="2025-01-29T12:30:12.052Z"><meta property="article:author" content="AsZer0s"><meta property="article:tag" content="杂谈"><meta property="article:tag" content="开发"><meta property="article:tag" content="网络"><meta property="article:tag" content="Linux"><meta name="twitter:card" content="summary"><link rel="shortcut icon" href="https://dimg04.tripcdn.com/images/0Z00m224x8xn2j0qq5D28.jpg"><link rel="icon" type="image/png" href="https://dimg04.tripcdn.com/images/0Z00m224x8xn2j0qq5D28.jpg" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="https://dimg04.tripcdn.com/images/0Z00m224x8xn2j0qq5D28.jpg"><title>ArchLinux基础安装</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-XBNDNN1FW1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XBNDNN1FW1")</script><link rel="stylesheet" href="/css/style.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });</script><style>.pace .pace-progress{background:#1e92fb;height:3px}.pace .pace-progress-inner{box-shadow:0 0 10px #1e92fb,0 0 5px #1e92fb}.pace .pace-activity{border-top-color:#1e92fb;border-left-color:#1e92fb}</style><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async></script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/rss.xml" title="AsZero" type="application/rss+xml"></head><script>let originalTitle=document.title,leavingTitle="我藏起来啦 (*´∇｀*)";document.addEventListener("visibilitychange",function(){document.hidden?document.title=leavingTitle:document.title=originalTitle}),window.addEventListener("beforeunload",function(){document.title=leavingTitle})</script><body class="max-width mx-auto px3 ltr"><div id="header-post"><a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" aria-label="顶部" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fa-solid fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">首页</a></li><li><a href="/tags/">标签</a></li><li><a href="/tools/">工具</a></li><li><a href="/about/">关于</a></li><li><a href="/search/">搜索</a></li><li><a href="/friends/">友链</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" aria-label="上一篇" href="/posts/57bae214/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class="icon" aria-label="下一篇" href="/posts/6842c86a/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" aria-label="返回顶部" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id="i-prev" class="info" style="display:none">上一篇</span> <span id="i-next" class="info" style="display:none">下一篇</span> <span id="i-top" class="info" style="display:none">返回顶部</span> <span id="i-share" class="info" style="display:none">分享文章</span></span><br><div id="share" style="display:none"><ul><li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://zerospace.dev/posts/f0c3d80/"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://zerospace.dev/posts/f0c3d80/&text=ArchLinux基础安装"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://zerospace.dev/posts/f0c3d80/&is_video=false&description=ArchLinux基础安装"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ArchLinux基础安装&body=Check out this article: https://zerospace.dev/posts/f0c3d80/"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://zerospace.dev/posts/f0c3d80/&name=ArchLinux基础安装&description="><i class="fab fa-tumblr" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://zerospace.dev/posts/f0c3d80/&t=ArchLinux基础安装"><i class="fab fa-hacker-news" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%81%E7%94%A8-reflector"><span class="toc-number">1.</span> <span class="toc-text">禁用 reflector</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E7%A1%AE%E4%BF%9D%E6%98%AF%E5%90%A6%E4%B8%BA-UEFI-%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">再次确保是否为 UEFI 模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">3.</span> <span class="toc-text">连接网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%92%9F"><span class="toc-number">4.</span> <span class="toc-text">更新系统时钟</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">5.</span> <span class="toc-text">分区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">6.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-number">7.</span> <span class="toc-text">挂载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%BA%90%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">8.</span> <span class="toc-text">镜像源的选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.</span> <span class="toc-text">安装系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90-fstab-%E6%96%87%E4%BB%B6"><span class="toc-number">10.</span> <span class="toc-text">生成 fstab 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Change-root"><span class="toc-number">11.</span> <span class="toc-text">Change root</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE"><span class="toc-number">12.</span> <span class="toc-text">时区设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-Locale-%E8%BF%9B%E8%A1%8C%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="toc-number">13.</span> <span class="toc-text">设置 Locale 进行本地化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">14.</span> <span class="toc-text">设置主机名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA-root-%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-number">15.</span> <span class="toc-text">为 root 用户设置密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BE%AE%E7%A0%81"><span class="toc-number">16.</span> <span class="toc-text">安装微码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F"><span class="toc-number">17.</span> <span class="toc-text">安装引导程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E5%AE%89%E8%A3%85"><span class="toc-number">18.</span> <span class="toc-text">完成安装</span></a></li></ol></div></span></div><div class="content index py4"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle p-name" itemprop="name headline">ArchLinux基础安装</h1><div class="meta"><span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-name" itemprop="name">AsZer0s</span>&emsp;</span><div class="postdate"><time datetime="2024-11-19T12:39:23.000Z" class="dt-published" itemprop="datePublished">2024-11-19</time></div><div class="article-tag"><i class="fa-solid fa-tag"></i> <a class="p-category" href="/tags/Linux/" rel="tag">Linux</a>, <a class="p-category" href="/tags/%E5%BC%80%E5%8F%91/" rel="tag">开发</a>, <a class="p-category" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a>, <a class="p-category" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></div></div></header><div class="content e-content" itemprop="articleBody"><p>本篇参考 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Installation_guide">Arch Linux 官方安装指南</a></p><h2 id="禁用-reflector"><a href="#禁用-reflector" class="headerlink" title="禁用 reflector"></a>禁用 reflector</h2><p>reflector 会为你选择速度合适的镜像源<br>但其结果并不准确<br>同时会清空配置文件中的内容<br>对于新人来讲并不适用<br>我们首先对其进行禁用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop reflector.service</span><br></pre></td></tr></table></figure><h2 id="再次确保是否为-UEFI-模式"><a href="#再次确保是否为-UEFI-模式" class="headerlink" title="再次确保是否为 UEFI 模式"></a>再次确保是否为 UEFI 模式</h2><p>在一系列的信息刷屏后<br>可以看到已经以 root 登陆安装系统了<br>此时可以执行的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /sys/firmware/efi/efivars</span><br></pre></td></tr></table></figure><p>若输出了一堆东西，即 <code>efi</code> 变量<br>则说明已在 <code>UEFI</code> 模式<br>否则请确认你的启动方式是否为 <code>UEFI</code></p><h2 id="连接网络"><a href="#连接网络" class="headerlink" title="连接网络"></a>连接网络</h2><p>一般来说，你连接的网络几乎均可以通过 <code>DHCP</code> 的方式来进行 <code>IP 地址</code> 和 <code>DNS</code> 的相关设置<br>在没有合适网络的情况下，使用 <code>手机的移动热点</code> 也是很方便的选择<br>如果你的网络环境需要配置静态 <code>IP</code> 和 <code>DNS</code><br>请自行参考 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Installation_guide#Connect_to_the_internet">Arch Wiki</a></p><p>对于有线连接来说，直接插入网线即可</p><p>对于无线连接，则需进行如下操作进行网络连接</p><p>无线连接使用 iwctl 命令进行，按照如下步骤进行网络连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iwctl                           <span class="comment">#执行iwctl命令，进入交互式命令行</span></span><br><span class="line">device list                     <span class="comment">#列出设备名，比如无线网卡看到叫 wlan0</span></span><br><span class="line">station wlan0 scan              <span class="comment">#扫描网络</span></span><br><span class="line">station wlan0 get-networks      <span class="comment">#列出网络 比如想连接YOUR-WIRELESS-NAME这个无线</span></span><br><span class="line">station wlan0 connect YOUR-WIRELESS-NAME <span class="comment">#进行连接 输入密码即可</span></span><br><span class="line"><span class="built_in">exit</span>                            <span class="comment">#成功后exit退出</span></span><br></pre></td></tr></table></figure><p>可以等待几秒等网络建立链接后再进行下面测试网络的操作</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.gnu.org</span><br></pre></td></tr></table></figure><hr><p>如果你不能正常连接网络，首先确认系统已经启用网络接口<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Network_configuration/Wireless#Check_the_driver_status">Ⅰ</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ip <span class="built_in">link</span>  <span class="comment">#列出网络接口信息，如不能联网的设备叫wlan0</span></span><br><span class="line">ip <span class="built_in">link</span> <span class="built_in">set</span> wlan0 up <span class="comment">#比如无线网卡看到叫 wlan0</span></span><br></pre></td></tr></table></figure><p>如果随后看到类似 <code>Operation not possible due to RF-kill</code> 的报错，继续尝试 <code>rfkill</code> 命令来解锁无线网卡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rfkill unblock wifi</span><br></pre></td></tr></table></figure><h2 id="更新系统时钟"><a href="#更新系统时钟" class="headerlink" title="更新系统时钟"></a>更新系统时钟</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp <span class="literal">true</span>    <span class="comment">#将系统时间与网络时间进行同步</span></span><br><span class="line">timedatectl status          <span class="comment">#检查服务状态</span></span><br></pre></td></tr></table></figure><h2 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h2><p>这里总共设置三个分区，是一个我们认为较为通用的方案<br>此步骤会清除磁盘中全部内容，请事先确认</p><ul><li>EFI 分区 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/EFI_system_partition#Mount_the_partition">Ⅱ</a>： &#x2F;efi 800M</li><li>根目录： &#x2F; 100G</li><li>用户主目录： &#x2F;home 剩余全部</li></ul><blockquote><p>这里根目录的大小仅为参考<br>一般来说个人日常使用的 linux 分配 100G 已经够用了<br>根目录最小建议不小于 50G，根目录过小会造成无法更新系统软件包等问题</p></blockquote><p>首先将磁盘转换为 gpt 类型<br>这里假设比如你想安装的磁盘名称为 sdx<br>如果你使用 NVME 的固态硬盘<br>你看到的磁盘名称可能为 nvme0n1</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lsblk                       <span class="comment">#显示分区情况 找到你想安装的磁盘名称</span></span><br><span class="line">parted /dev/sdx             <span class="comment">#执行parted，进入交互式命令行，进行磁盘类型变更</span></span><br><span class="line">(parted)mktable             <span class="comment">#输入mktable</span></span><br><span class="line">New disk label <span class="built_in">type</span>? gpt    <span class="comment">#输入gpt 将磁盘类型转换为gpt 如磁盘有数据会警告，输入yes即可</span></span><br><span class="line">quit                        <span class="comment">#最后quit退出parted命令行交互</span></span><br></pre></td></tr></table></figure><p>接下来使用 <code>cfdisk</code> 命令对磁盘分区。进入 <code>cfdisk</code> 后的操作很直观<br>用键盘的<code>方向键</code> 、 <code>Tab 键</code> 、 <code>回车键</code> 配合即可操作分配各个分区的大小与格式<br>一般建议将 <code>EFI 分区</code> 设置为磁盘的第一个分区<br>据说有些主板如果不将 EFI 设置为第一个分区， <code>可能</code> 有 <code>不兼容</code> 的问题<br>其中 <code>EFI 分区</code> 选择 <code>EFI System</code> 类型<br>其余两个分区<code>选择</code>Linux filesystem&#96; 类型</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/sdx <span class="comment">#来执行分区操作,分配各个分区大小，类型</span></span><br><span class="line">fdisk -l <span class="comment">#分区结束后， 复查磁盘情况</span></span><br></pre></td></tr></table></figure><h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><p>建立好分区后，需要对分区用合适的文件系统进行格式化<br>这里用mkfs.ext4命令格式化根分区与 home 分区<br>用mkfs.vfat命令格式化 EFI 分区<br>如下命令中的 sdax 中，x 代表分区的序号<br>格式化命令要与上一步分区中生成的分区名字对应才可以</p><p>磁盘若事先有数据<br>会提示你: ‘proceed any way?’ 按 y 回车继续即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4  /dev/sdax            <span class="comment">#格式化根目录和home目录的两个分区</span></span><br><span class="line">mkfs.vfat  /dev/sdax            <span class="comment">#格式化efi分区</span></span><br></pre></td></tr></table></figure><h2 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h2><p>在挂载时，挂载是有顺序的，先挂载根分区，再挂载 EFI 分区<br>这里的 sdax 只是例子，具体根据你自身的实际分区情况来</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sdax  /mnt</span><br><span class="line"><span class="built_in">mkdir</span> /mnt/efi     <span class="comment">#创建efi目录</span></span><br><span class="line">mount /dev/sdax /mnt/efi</span><br><span class="line"><span class="built_in">mkdir</span> /mnt/home    <span class="comment">#创建home目录</span></span><br><span class="line">mount /dev/sdax /mnt/home</span><br></pre></td></tr></table></figure><h2 id="镜像源的选择"><a href="#镜像源的选择" class="headerlink" title="镜像源的选择"></a>镜像源的选择</h2><p>使用如下命令编辑镜像列表</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure><p>其中的首行是将会使用的镜像源<br>添加中科大或者清华的放在最上面即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Server = https://mirrors.ustc.edu.cn/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure><p>如果其速度不佳，可以手动指定其他镜像源。完整的镜像源列表可参考<a target="_blank" rel="noopener" href="https://archlinux.org/mirrorlist/">镜像源生成器</a></p><p>这里使用中国境内的镜像源以提高访问速度</p><blockquote><p>然而这存在问题，镜像源(如 <code>ArchLinux 清华镜像源</code> )以及第三方源(如 <code>ArchLinuxCN</code> )可以知道你的 <code>IP</code> 是什么<br>什么时候更新了系统，什么时候检查了系统，什么时候更新了什么软件，你安装的软件列表是什么<br>在 <code>威权国家</code> 的 <code>镜像源维护者</code> 完全有可能 <code>根据威权当局</code> 的要求 <code>提供这些数据</code><br><code>很多维护者</code> 在网络上几乎是 <code>实名上网</code> 的，他们 <code>没有任何抵抗能力</code><br>进一步的， <code>威权国家</code> 可以根据这些 <code>元数据</code> 与你产生的 <code>其他元数据</code> 进行 <code>比对</code><br>从而对你进行 <code>进一步</code> 的 <code>定位与辨识</code><br>简单举一个 <code>例子</code> ，要求维护者 <code>提供</code> 或 <code>监视</code> 安装了 <code>v2ray/qv2ray</code> 等软件包的 <code>使用者</code> 的 <code>IP</code> ,以及 <code>安装时间</code> ，以及其 <code>全部软件列表</code></p></blockquote><blockquote><p>如果你在安装 ArchLinux 时的网络已经处于 <code>代理模式</code> 下<br>可以选择一个 <code>与你代理位置较近</code> 的, <code>非威权国家</code> 的镜像源来使用<br>如果你在安装 ArchLinux 时的网络环境 <code>没有代理</code><br>那么在安装结束后，需要 <code>尽快更换</code> 一个 <code>非威权国家</code> 的镜像源来使用<br>如下列举一些较为优质的 <code>国际源</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Server = https://mirror.archlinux.tw/ArchLinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>   <span class="comment">#东亚地区:台湾/中华民国</span></span><br><span class="line">Server = https://mirror.0xem.ma/arch/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>    <span class="comment">#北美洲地区:加拿大</span></span><br><span class="line">Server = https://mirror.aktkn.sg/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>    <span class="comment">#东南亚地区:新加坡</span></span><br><span class="line">Server = https://archlinux.uk.mirror.allworldit.com/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>    <span class="comment">#欧洲地区:英国</span></span><br><span class="line">Server = https://mirrors.cat.net/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>    <span class="comment">#东亚地区:日本</span></span><br></pre></td></tr></table></figure><h2 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h2><p>必须的基础包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base base-devel linux linux-headers linux-firmware  <span class="comment">#base-devel在AUR包的安装是必须的</span></span><br></pre></td></tr></table></figure><p>注意<br>目前需要首先确保等待 <code>pacman-init.service</code> 服务启动后，才能执行 <code>pacstrap</code> 或 <code>pacman</code> 命令安装包<br>否则会 <code>引发错误</code> 使得安装过程无法进行<br>使用 <code>systemctl status pacman-init.service</code> 命令来检查当前服务状态<br>更多内容参考 bbs 中的 <a target="_blank" rel="noopener" href="https://bbs.archlinux.org/viewtopic.php?id=278518&p=2">帖子</a></p><p>若安装时出现密钥环相关错误，参考此文章 <a target="_blank" rel="noopener" href="https://archlinux.org/news/gnupg-21-and-the-pacman-keyring/">GnuPG-2.1 and the pacman keyring</a> 并执行其中的命令</p><p>必须的功能性软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt dhcpcd iwd vim bash-completion   <span class="comment">#一个有线所需(iwd也需要dhcpcd) 一个无线所需 一个编辑器 一个补全工具</span></span><br></pre></td></tr></table></figure><h2 id="生成-fstab-文件"><a href="#生成-fstab-文件" class="headerlink" title="生成 fstab 文件"></a>生成 fstab 文件</h2><p>fstab 用来定义磁盘分区</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure><p>复查一下 &#x2F;mnt&#x2F;etc&#x2F;fstab 确保没有错误</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /mnt/etc/fstab</span><br></pre></td></tr></table></figure><h2 id="Change-root"><a href="#Change-root" class="headerlink" title="Change root"></a>Change root</h2><p>把环境切换到 <code>新系统</code>的 <code>/mnt</code> 下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure><h2 id="时区设置"><a href="#时区设置" class="headerlink" title="时区设置"></a>时区设置</h2><p>设置时区，在 <code>/etc/localtime</code> 下用 <code>/usr</code> 中合适的时区创建符号连接<br>如下设置 <code>上海时区</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure><p>随后进行硬件时间设置，将当前的正确 UTC 时间写入硬件时间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure><h2 id="设置-Locale-进行本地化"><a href="#设置-Locale-进行本地化" class="headerlink" title="设置 Locale 进行本地化"></a>设置 Locale 进行本地化</h2><p>Locale 决定了 <code>地域</code> 、 <code>货币</code> 、 <code>时区日期的格式</code> 、 <code>字符排列方式</code> 和其他本地化标准</p><p>首先使用 <code>vim</code> 编辑 <code>/etc/locale.gen</code> ，去掉 <code>en_US.UTF-8</code> 所在行以及 <code>zh_CN.UTF-8</code> 所在行的注释符号 <code>#</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/locale.gen</span><br></pre></td></tr></table></figure><p>然后使用如下命令生成 locale</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure><p>最后向 <code>/etc/locale.conf</code> 导入内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;LANG=en_US.UTF-8&#x27;</span>  &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure><h2 id="设置主机名"><a href="#设置主机名" class="headerlink" title="设置主机名"></a>设置主机名</h2><p>首先在 <code>/etc/hostname</code> 设置主机名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br></pre></td></tr></table></figure><p>加入你想为主机取的主机名，这里比如叫 ArchZer0s<br>接下来在&#x2F;etc&#x2F;hosts设置与其匹配的条目</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br></pre></td></tr></table></figure><p>加入如下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   ArchZer0s</span><br></pre></td></tr></table></figure><p>某些情况下如不设置主机名<br>在 <code>KDE</code> 下可能会存在网络情况变更时 <code>无法启动 GUI 应用</code> 的问题<br>在终端中出现形如 <code>No protocol specified qt.qpa.xcb: could not connect to display</code> 的错误<br>这种情况较为少见 <a target="_blank" rel="noopener" href="https://bbs.archlinux.org/viewtopic.php?id=241338">Ⅲ</a> <a target="_blank" rel="noopener" href="https://bbs.archlinux.org/viewtopic.php?id=243674">Ⅳ</a> <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Network_configuration#Local_hostname_resolution">Ⅴ</a></p><h2 id="为-root-用户设置密码"><a href="#为-root-用户设置密码" class="headerlink" title="为 root 用户设置密码"></a>为 root 用户设置密码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><h2 id="安装微码"><a href="#安装微码" class="headerlink" title="安装微码"></a>安装微码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S intel-ucode   <span class="comment">#Intel</span></span><br><span class="line">pacman -S amd-ucode     <span class="comment">#AMD</span></span><br></pre></td></tr></table></figure><h2 id="安装引导程序"><a href="#安装引导程序" class="headerlink" title="安装引导程序"></a>安装引导程序</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr   <span class="comment">#grub是启动引导器，efibootmgr被 grub 脚本用来将启动项写入 NVRAM。</span></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=GRUB</span><br></pre></td></tr></table></figure><p>接下来编辑 <code>/etc/default/grub</code> 文件<br>去掉 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行中最后的 <code>quiet</code> 参数<br>同时把 <code>log level</code> 的数值从 <code>3</code> 改成 <code>5</code><br>这样是为了后续如果出现系统错误，方便排错<br>同时在同一行加入 <code>nowatchdog</code> 参数<br>这可以显著提高开关机速度</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/grub</span><br></pre></td></tr></table></figure><p>使用 N 卡的用户需要注意<br><code>KDE6</code> 默认使用 <code>wayland session</code> 为默认<br>如果你需要使用 <code>wayland</code> ,则需开启 <code>DRM</code><br>同样编辑 <code>/etc/default/grub</code> 文件<br>在 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行中最后的加入参数 <code>nvidia_drm.modeset=1</code></p><p>最后生成 GRUB 所需的配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure><blockquote><p>我们在之前的命令中指定了 <code>bootloader-id</code> 为 <code>GRUB</code><br>这一般不会出现问题<br>然而在某些主板安装完成后，你会发现 <code>没有 nvme 启动条目</code><br>这是因为 <code>某些主板</code> 的 <code>UEFI 固件</code> 在显示 <code>UEFI NVRAM</code> 引导条目 <code>之前</code><br>需要在特定的位置存放可引导文件，<code>不支持自定义</code> 存放 <code>efi 文件</code> <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/GRUB#Default/fallback_boot_path">Ⅵ</a><br>解决方式是使用 <code>--removable</code> 参数解决一些主板 <code>NVRAM</code> 的兼容性问题</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target=x86_64-efi --efi-directory=/efi --removable</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure><p>除此之外，如果你的主板是一些较老的型号<br>如 <code>intel 9</code> 系列以下或者 <code>较老 AMD 的主板</code><br>它们很可能 <code>不支持</code> 从 nvme 启动系统<br>虽然可以通过 <code>修改 BIOS</code> 加入 NVME 支持模块来解决<br>但这不在本文讨论范围内</p><h2 id="完成安装"><a href="#完成安装" class="headerlink" title="完成安装"></a>完成安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span>                <span class="comment"># 退回安装环境#</span></span><br><span class="line">umount -R  /mnt     <span class="comment"># 卸载新分区</span></span><br><span class="line">reboot              <span class="comment"># 重启</span></span><br></pre></td></tr></table></figure><p>注意，重启前要先拔掉优盘，否则你重启后还是进安装程序而不是安装好的系统<br>重启后，<code>开启 dhcp 服务</code> ，即可连接网络</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpcd  <span class="comment">#立即启动dhcp</span></span><br><span class="line">ping www.gnu.org      <span class="comment">#测试网络连接</span></span><br></pre></td></tr></table></figure><p>若为无线链接，则还需要启动 <code>iwd</code> 才可以使用 <code>iwctl</code> 连接网络</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start iwd <span class="comment">#立即启动iwd</span></span><br><span class="line">iwctl               <span class="comment">#和之前的方式一样，连接无线网络</span></span><br></pre></td></tr></table></figure><p>到此为止，一个基础的，<code>无 UI 界面</code> 的 <code>Arch Linux</code> 已经安装完成了</p><blockquote><p>ArchLinux 在 <code>2021 年 4 月</code> 在安装镜像中内置了一个安装脚本，提供一些选项，即可快速安装<br>其和所有一键安装脚本类似，提供自动化，且不灵活的安装过程<br><code>不建议</code> 使用这种安装脚本，除了不灵活的原因，<code>初学者也无法在这种安装过程中学到任何东西</code><br>如果你因为任何原因需要 <code>快速启动一个基础的 ArchLinux 环境</code> ，那么可以 <code>尝试</code> 此脚本</p></blockquote></div></article><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">首页</a></li><li><a href="/tags/">标签</a></li><li><a href="/tools/">工具</a></li><li><a href="/about/">关于</a></li><li><a href="/search/">搜索</a></li><li><a href="/friends/">友链</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%81%E7%94%A8-reflector"><span class="toc-number">1.</span> <span class="toc-text">禁用 reflector</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E7%A1%AE%E4%BF%9D%E6%98%AF%E5%90%A6%E4%B8%BA-UEFI-%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">再次确保是否为 UEFI 模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">3.</span> <span class="toc-text">连接网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%92%9F"><span class="toc-number">4.</span> <span class="toc-text">更新系统时钟</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">5.</span> <span class="toc-text">分区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">6.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-number">7.</span> <span class="toc-text">挂载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%95%9C%E5%83%8F%E6%BA%90%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">8.</span> <span class="toc-text">镜像源的选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.</span> <span class="toc-text">安装系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90-fstab-%E6%96%87%E4%BB%B6"><span class="toc-number">10.</span> <span class="toc-text">生成 fstab 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Change-root"><span class="toc-number">11.</span> <span class="toc-text">Change root</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE"><span class="toc-number">12.</span> <span class="toc-text">时区设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-Locale-%E8%BF%9B%E8%A1%8C%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="toc-number">13.</span> <span class="toc-text">设置 Locale 进行本地化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">14.</span> <span class="toc-text">设置主机名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA-root-%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-number">15.</span> <span class="toc-text">为 root 用户设置密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BE%AE%E7%A0%81"><span class="toc-number">16.</span> <span class="toc-text">安装微码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F"><span class="toc-number">17.</span> <span class="toc-text">安装引导程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E5%AE%89%E8%A3%85"><span class="toc-number">18.</span> <span class="toc-text">完成安装</span></a></li></ol></div><div id="share-footer" style="display:none"><ul><li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://zerospace.dev/posts/f0c3d80/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://zerospace.dev/posts/f0c3d80/&text=ArchLinux基础安装"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://zerospace.dev/posts/f0c3d80/&is_video=false&description=ArchLinux基础安装"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ArchLinux基础安装&body=Check out this article: https://zerospace.dev/posts/f0c3d80/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://zerospace.dev/posts/f0c3d80/&title=ArchLinux基础安装"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://zerospace.dev/posts/f0c3d80/&name=ArchLinux基础安装&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://zerospace.dev/posts/f0c3d80/&t=ArchLinux基础安装"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="menu" class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a> <a id="toc" class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a> <a id="share" class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a> <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2016-2025 AsZer0s</div><div><a href="https://icp.gov.moe/?keyword=20241245" target="_blank">萌ICP备20241245号</a> | <a target="_blank" rel="noopener" href="http://gov.rip/?id=20242637" title="云ICP备:20242637号">云ICP备:20242637号</a></div><div class="footer-right"><nav><ul><li><a href="/">首页</a></li><li><a href="/tags/">标签</a></li><li><a href="/tools/">工具</a></li><li><a href="/about/">关于</a></li><li><a href="/search/">搜索</a></li><li><a href="/friends/">友链</a></li></ul></nav></div></footer></div><link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload='this.onload=null,this.rel="stylesheet"'><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script><script>$(function(){$(".highlight table").before('<span class="btn-copy tooltipped tooltipped-sw" aria-label="复制到粘贴板!"><i class="fa-regular fa-clone"></i></span>'),new ClipboardJS(".btn-copy",{text:function(e){return Array.from(e.nextElementSibling.querySelectorAll(".code")).reduce((e,t)=>e+t.innerText+"\n","")}}).on("success",function(e){e.trigger.setAttribute("aria-label","复制成功!"),e.clearSelection()})})</script><script src="/js/main.js"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "43ebe12d878c42e5a41ca4e0e2d0ae25"}'></script>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>